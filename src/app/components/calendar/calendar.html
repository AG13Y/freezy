<div class="max-w-7xl mx-auto p-4 dark:text-white">
  <h1 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-white mb-6">
    Minha Agenda
  </h1>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    
    <mat-card class="md:col-span-2 shadow-lg">
      <mat-calendar 
        class="w-full"
        [selected]="selectedDate()"
        (selectedChange)="onDateChange($event)">
      </mat-calendar>
    </mat-card>

    <div class="md:col-span-1">
      <mat-card class="shadow-lg">
        <mat-card-header class="!pt-6 !px-6">
          <mat-card-title class="dark:text-white">
            Eventos para {{ selectedDate() | date: 'dd/MM/yyyy' }}
          </mat-card-title>
        </mat-card-header>
        
        <mat-card-content class="p-6 mt-2">
          <button mat-flat-button color="primary" class="w-full mb-4" 
                  (click)="openAddMeetingModal()">
            <mat-icon>add</mat-icon>
            Agendar Evento
          </button>

          @if (isLoading()) {
            <p class="text-gray-500 dark:text-gray-400">Carregando...</p>
          }

          <mat-list role="list">
            @for (meeting of meetingsForSelectedDay(); track meeting.id) {
              <mat-list-item role="listitem" class="h-auto !py-3">
                <mat-icon matListItemIcon class="text-indigo-500">event</mat-icon>
                <div matListItemTitle class="font-medium text-gray-900 dark:text-white">
                  {{ meeting.title }}
                  {{ meeting.time }}
                </div>
                <div matListItemLine class="text-sm text-gray-500 dark:text-gray-400">
                  
                </div>
              </mat-list-item>
            } @empty {
              @if (!isLoading()) {
                <p class="text-center text-sm text-gray-500 dark:text-gray-400 py-4">
                  Nenhum evento para este dia.
                </p>
              }
            }
          </mat-list>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>